<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.planb.dao.PreOrderBookMapper">
    <insert id="insertPreOderBook" parameterType="com.planb.entity.PreOrderBook">
        <!-- 新增预订记录 -->
        INSERT INTO preorderbook (user_id, book_id, booking_date)
        VALUES (#{userId}, #{bookId}, #{bookingDate})
    </insert>

    <delete id="deleteById" parameterType="java.lang.Integer">
        <!-- 根据recordId删除预订记录 -->
        delete
        from preorderbook
        where record_id = #{recordId}
    </delete>

     <select id="selectPreOrderBook" parameterType="java.util.Map" resultType="com.planb.entity.PreOrderBook">
         <!-- 根据bookId和userId查询预订记录 -->
        SELECT *
        FROM preorderbook
        WHERE book_id = #{bookId}
        AND user_id = #{userId}
    </select>

    <select id="selectAllPreOrderBooks" resultType="com.planb.entity.PreOrderBook">
        <!-- 查询所有预定图书记录 -->
        SELECT * FROM preorderbook
    </select>
</mapper>